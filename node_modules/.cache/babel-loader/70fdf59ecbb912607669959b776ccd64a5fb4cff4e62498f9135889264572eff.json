{"ast":null,"code":"import _toConsumableArray from\"C:/Users/ashik/Documents/marklist/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/ashik/Documents/marklist/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import{Link}from\"react-router-dom\";import Title from\"./Title\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Table=function Table(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),name=_useState4[0],setName=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var handleSubmit=function handleSubmit(e){setName(\"\");e.preventDefault();if(name===\"\"){setError(\"Please enter a name.\");return;}// console.log(data)\nvar body=[].concat(_toConsumableArray(data),[{\"name\":name,\"id\":data.length+1}]);setData(body);// localStorage.setItem(\"key\", btoa(JSON.stringify(body)))\nlocalStorage.setItem(\"key\",JSON.stringify(body));};var toAddTitle=function toAddTitle(){if(data!==null){if(data.length===0){return true;}else{return false;}}else{return true;}};useEffect(function(){var temp=localStorage.getItem(\"key\");if(temp!=null){setData(JSON.parse(temp));// setData(JSON.parse(atob(temp)));\n}else{fetch(\"http://localhost:8000/data\").then(function(res){return res.json();}).then(function(data){// localStorage.setItem(\"key\", btoa(JSON.stringify(data)))\nlocalStorage.setItem(\"key\",JSON.stringify(data));setData(data);});}},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"main\",children:[toAddTitle()&&/*#__PURE__*/_jsx(Title,{title:\"No Students Added\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"inputs\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,placeholder:\"Enter Name\",value:name,onChange:function onChange(e){setName(e.target.value);}}),error&&/*#__PURE__*/_jsx(\"p\",{children:error}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,children:\"Add\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"tableHandle\",children:/*#__PURE__*/_jsx(\"table\",{children:data&&/*#__PURE__*/_jsx(\"tbody\",{children:data.map(function(data,key){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:data.id}),/*#__PURE__*/_jsx(\"td\",{children:data.name}),/*#__PURE__*/_jsx(\"td\",{className:\"viewmarks\",children:/*#__PURE__*/_jsx(Link,{to:\"/Mark/\".concat(data.id),children:/*#__PURE__*/_jsx(\"button\",{children:\"View marks\"})})})]},key);})})})})]});};export default Table;","map":{"version":3,"names":["useState","useEffect","Link","Title","jsx","_jsx","jsxs","_jsxs","Table","_useState","_useState2","_slicedToArray","data","setData","_useState3","_useState4","name","setName","_useState5","_useState6","error","setError","handleSubmit","e","preventDefault","body","concat","_toConsumableArray","length","localStorage","setItem","JSON","stringify","toAddTitle","temp","getItem","parse","fetch","then","res","json","className","children","title","type","required","placeholder","value","onChange","target","onClick","map","key","id","to"],"sources":["C:/Users/ashik/Documents/marklist/src/Table.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Title from \"./Title\";\r\n\r\nconst Table = () => {\r\n  const [data, setData] = useState(null);\r\n  const [name, setName] = useState(\"\");\r\n  const [error, setError] = useState(null);\r\n\r\n  const handleSubmit = (e) => {\r\n    setName(\"\");\r\n    e.preventDefault();\r\n    if (name === \"\") {\r\n      setError(\"Please enter a name.\");\r\n      return;\r\n    }\r\n    // console.log(data)\r\n    const body = [...data, {\"name\" : name, \"id\": data.length + 1}]\r\n    setData(body);\r\n    // localStorage.setItem(\"key\", btoa(JSON.stringify(body)))\r\n    localStorage.setItem(\"key\", JSON.stringify(body))\r\n\r\n    \r\n  };\r\n\r\n  const toAddTitle = () => {\r\n    if (data !== null) {\r\n      if (data.length === 0) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    } else {\r\n      return true;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const temp = localStorage.getItem(\"key\");\r\n    if (temp != null) {\r\n      setData(JSON.parse(temp));\r\n      // setData(JSON.parse(atob(temp)));\r\n\r\n    } else {\r\n      fetch(\"http://localhost:8000/data\")\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        // localStorage.setItem(\"key\", btoa(JSON.stringify(data)))\r\n        localStorage.setItem(\"key\", JSON.stringify(data))\r\n\r\n        setData(data);\r\n      });\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"main\">\r\n      {toAddTitle() && <Title title=\"No Students Added\" />}\r\n      <form className=\"inputs\">\r\n        <input\r\n          type=\"text\"\r\n          required\r\n          placeholder=\"Enter Name\"\r\n          value={name}\r\n          onChange={(e) => {\r\n            setName(e.target.value);\r\n          }}\r\n        />\r\n        {error && <p>{error}</p>}\r\n        <button onClick={handleSubmit}>Add</button>\r\n      </form>\r\n\r\n      <div className=\"tableHandle\">\r\n        <table>\r\n          {data && (\r\n            <tbody>\r\n              {data.map((data, key) => (\r\n                <tr key={key}>\r\n                  <td>{data.id}</td>\r\n                  <td>{data.name}</td>\r\n                  <td className=\"viewmarks\"><Link to={`/Mark/${data.id}`}><button>View marks</button></Link></td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          )}\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Table;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}